{% extends 'base.html' %}
{% load static %}
{% block extrastyles %}
    <link rel="stylesheet" href="{% static 'css/hystmodal.min.css' %}">
{% endblock %}
{% block page-title %}Taster menu: fresh ingredients, wide selection, fast delivery{% endblock %}
{% block body %}
    <div class="menu">
        <h1 class="menu__title">Menu</h1>
        {% for food_type, food_list in foods.items %}
            <div class="menu__food">
                <h2 id="{{ food_type.id }}" class="menu__subtitle">{{ food_type.name }}</h2>
                <a href="{% url 'food-by-type' food_type.slug %}" class="menu__link">EXPLORE ALL</a>
                <div class="foods">
                    {% for food in food_list %}
                        {% if food.food_type == food_type %}
                            <div class="food">
                                <img class="food__img" src="{{ food.image.url }}" alt="{{ food.name }}">
                                <a href="#" data-hystmodal="#_{{ food.id }}" class="food__name">{{ food.name|truncatechars:20 }}</a>
                                <p class="food__weight">{{ food.weight }}g</p>
                                <button class="food__button hvr-bounce-to-bottom">
                                    £{{ food.price }} <span>+</span>
                                </button>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
        {% for food_list in foods.values %}
            {% for food in food_list %}
                <div class="hystmodal" id="_{{ food.id }}" aria-hidden="true">
                    <div class="hystmodal__wrap">
                        <div class="hystmodal__window" role="dialog" aria-modal="true">
                            <button data-hystclose class="hystmodal__close">Закрыть</button>
                            <div class="food">
                                <img class="food__img" src="{{ food.image.url }}" alt="{{ food.name }}">
                                <p class="food__name">{{ food.name|truncatechars:20 }}</p>
                                <p class="food__weight">{{ food.weight }}g</p>
                                <button class="food__button hvr-bounce-to-bottom">
                                    £{{ food.price }} <span>+</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
    </div>
{% endblock %}
{% block js %}
    <script src="{% static 'js/hystmodal.min.js' %}"></script>
{% endblock %}
